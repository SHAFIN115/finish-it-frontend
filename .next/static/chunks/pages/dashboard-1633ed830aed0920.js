(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(s,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(1644)}])},1644:function(s,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var t=a(5893),l=a(7294),c=a(1664),i=a.n(c),r=a(9008),n=a.n(r);function d(){let[s,e]=(0,l.useState)({name:"User",email:""}),[a,c]=(0,l.useState)([]),[r,d]=(0,l.useState)("Welcome back! Ready to tackle your goals?"),[o,h]=(0,l.useState)({totalTasks:0,completedTasks:0,inProgressTasks:0,todoTasks:0,streak:7,productivityScore:85}),[m,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)([]);(0,l.useEffect)(()=>{if(!localStorage.getItem("token")){window.location.href="/login";return}d(T()),u()},[]);let N=()=>localStorage.getItem("token"),p=()=>({"Content-Type":"application/json",Authorization:"Bearer ".concat(N())}),u=async()=>{x(!0);try{let s=await fetch("".concat("http://localhost:5000","/api/tasks"),{method:"GET",headers:p()});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let e=await s.json();console.log("Tasks loaded:",e),e.success&&e.tasks?v(e.tasks):console.error("Failed to load tasks:",e.message)}catch(s){console.error("Error loading tasks:",s),s.message.includes("401")&&(localStorage.removeItem("token"),window.location.href="/login")}finally{x(!1)}},v=s=>{let e=s.length,a=s.filter(s=>"completed"===s.status).length,t=s.filter(s=>"in_progress"===s.status).length,l=s.filter(s=>"todo"===s.status).length,i=s.sort((s,e)=>new Date(e.created_at)-new Date(s.created_at)).slice(0,5),r=s.filter(s=>s.due_date&&new Date(s.due_date)>new Date).sort((s,e)=>new Date(s.due_date)-new Date(e.due_date)).slice(0,3);c(i),f(r),h({totalTasks:e,completedTasks:a,inProgressTasks:t,todoTasks:l,streak:g(s),productivityScore:k(s)})},g=s=>{let e=s.filter(s=>"completed"===s.status);return e.length>0?Math.min(e.length,30):0},k=s=>{if(0===s.length)return 0;let e=s.filter(s=>"completed"===s.status).length,a=s.filter(s=>"completed"===s.status&&"high"===s.priority).length,t=e/s.length*100;return a>0&&(t+=Math.min(5*a,20)),Math.min(Math.round(t),100)},b=async s=>{try{let e=await fetch("".concat("http://localhost:5000","/api/tasks/").concat(s),{method:"PUT",headers:p(),body:JSON.stringify({status:"completed"})});(await e.json()).success&&u()}catch(s){console.error("Error completing task:",s)}},y=s=>{let e={high:{bg:"#fff5f5",color:"#c53030",text:"HIGH"},medium:{bg:"#fffaf0",color:"#dd6b20",text:"MEDIUM"},low:{bg:"#f0fff4",color:"#276749",text:"LOW"}};return e[s]||e.medium},w=o.totalTasks>0?Math.round(o.completedTasks/o.totalTasks*100):0,T=()=>{let s=["The secret of getting ahead is getting started.","Don't count the days, make the days count.","Productivity is never an accident. It is always the result of a commitment to excellence.","Small daily improvements are the key to staggering long-term results.","Your future is created by what you do today, not tomorrow."];return s[Math.floor(Math.random()*s.length)]};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"Dashboard - Finish-It"}),(0,t.jsx)("meta",{name:"description",content:"Your personal productivity dashboard to track and manage your goals."}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css",rel:"stylesheet"}),(0,t.jsx)("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css",rel:"stylesheet"}),(0,t.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap",rel:"stylesheet"}),(0,t.jsx)("link",{rel:"stylesheet",href:"/styles/dashboard.css"})]}),(0,t.jsxs)("div",{className:"dashboard-wrapper",children:[(0,t.jsxs)("div",{className:"sidebar",children:[(0,t.jsx)("div",{className:"sidebar-header",children:(0,t.jsxs)(i(),{href:"/",className:"brand-logo",children:[(0,t.jsx)("i",{className:"fas fa-rocket me-2"}),"Finish-It"]})}),(0,t.jsxs)("nav",{className:"sidebar-nav",children:[(0,t.jsxs)("a",{href:"#",className:"nav-item active",children:[(0,t.jsx)("i",{className:"fas fa-home"}),(0,t.jsx)("span",{children:"Dashboard"})]}),(0,t.jsxs)(i(),{href:"/tasks",className:"nav-item",children:[(0,t.jsx)("i",{className:"fas fa-tasks"}),(0,t.jsx)("span",{children:"Tasks"})]}),(0,t.jsxs)("a",{href:"#",className:"nav-item",children:[(0,t.jsx)("i",{className:"fas fa-project-diagram"}),(0,t.jsx)("span",{children:"Projects"})]}),(0,t.jsxs)("a",{href:"#",className:"nav-item",children:[(0,t.jsx)("i",{className:"fas fa-chart-line"}),(0,t.jsx)("span",{children:"Analytics"})]}),(0,t.jsxs)("a",{href:"#",className:"nav-item",children:[(0,t.jsx)("i",{className:"fas fa-calendar"}),(0,t.jsx)("span",{children:"Calendar"})]}),(0,t.jsxs)("a",{href:"#",className:"nav-item",children:[(0,t.jsx)("i",{className:"fas fa-cog"}),(0,t.jsx)("span",{children:"Settings"})]})]}),(0,t.jsx)("div",{className:"sidebar-footer",children:(0,t.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},className:"btn btn-outline-light btn-sm w-100",children:[(0,t.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]}),(0,t.jsxs)("div",{className:"main-content",children:[(0,t.jsxs)("header",{className:"dashboard-header",children:[(0,t.jsxs)("div",{className:"header-left",children:[(0,t.jsx)("button",{className:"btn btn-link sidebar-toggle d-lg-none",children:(0,t.jsx)("i",{className:"fas fa-bars"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"header-title",children:"Welcome back!"}),(0,t.jsx)("p",{className:"header-subtitle",children:r})]})]}),(0,t.jsxs)("div",{className:"header-right",children:[(0,t.jsxs)(i(),{href:"/tasks",className:"btn btn-primary",children:[(0,t.jsx)("i",{className:"fas fa-plus me-2"}),"New Task"]}),(0,t.jsx)("div",{className:"user-avatar",children:(0,t.jsx)("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:"User"})})]})]}),(0,t.jsx)("div",{className:"stats-section",children:(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsx)("div",{className:"col-xl-3 col-md-6",children:(0,t.jsxs)("div",{className:"stat-card gradient-1",children:[(0,t.jsx)("div",{className:"stat-icon",children:(0,t.jsx)("i",{className:"fas fa-tasks"})}),(0,t.jsxs)("div",{className:"stat-content",children:[(0,t.jsx)("h3",{children:o.totalTasks}),(0,t.jsx)("p",{children:"Total Tasks"})]})]})}),(0,t.jsx)("div",{className:"col-xl-3 col-md-6",children:(0,t.jsxs)("div",{className:"stat-card gradient-2",children:[(0,t.jsx)("div",{className:"stat-icon",children:(0,t.jsx)("i",{className:"fas fa-check-circle"})}),(0,t.jsxs)("div",{className:"stat-content",children:[(0,t.jsx)("h3",{children:o.completedTasks}),(0,t.jsx)("p",{children:"Completed"})]})]})}),(0,t.jsx)("div",{className:"col-xl-3 col-md-6",children:(0,t.jsxs)("div",{className:"stat-card gradient-3",children:[(0,t.jsx)("div",{className:"stat-icon",children:(0,t.jsx)("i",{className:"fas fa-fire"})}),(0,t.jsxs)("div",{className:"stat-content",children:[(0,t.jsx)("h3",{children:o.streak}),(0,t.jsx)("p",{children:"Day Streak"})]})]})}),(0,t.jsx)("div",{className:"col-xl-3 col-md-6",children:(0,t.jsxs)("div",{className:"stat-card gradient-4",children:[(0,t.jsx)("div",{className:"stat-icon",children:(0,t.jsx)("i",{className:"fas fa-chart-line"})}),(0,t.jsxs)("div",{className:"stat-content",children:[(0,t.jsxs)("h3",{children:[o.productivityScore,"%"]}),(0,t.jsx)("p",{children:"Productivity Score"})]})]})})]})}),(0,t.jsxs)("div",{className:"row g-4 mb-4",children:[(0,t.jsx)("div",{className:"col-lg-8",children:(0,t.jsxs)("div",{className:"dashboard-card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("h5",{children:[(0,t.jsx)("i",{className:"fas fa-chart-pie me-2"}),"Progress Overview"]})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"progress-overview",children:[(0,t.jsxs)("div",{className:"progress-circle",children:[(0,t.jsxs)("div",{className:"progress-value",children:[w,"%"]}),(0,t.jsxs)("svg",{className:"progress-svg",viewBox:"0 0 120 120",children:[(0,t.jsx)("circle",{cx:"60",cy:"60",r:"54",stroke:"#e1e8ff",strokeWidth:"8",fill:"transparent"}),(0,t.jsx)("circle",{cx:"60",cy:"60",r:"54",stroke:"url(#gradient)",strokeWidth:"8",fill:"transparent",strokeDasharray:"".concat(3.39*w,", 339"),strokeLinecap:"round",transform:"rotate(-90 60 60)"}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#667eea"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#764ba2"})]})})]})]}),(0,t.jsxs)("div",{className:"progress-stats",children:[(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-label",children:"Tasks Completed"}),(0,t.jsxs)("span",{className:"stat-value",children:[o.completedTasks,"/",o.totalTasks]})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-label",children:"In Progress"}),(0,t.jsx)("span",{className:"stat-value",children:o.inProgressTasks})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-label",children:"To Do"}),(0,t.jsx)("span",{className:"stat-value",children:o.todoTasks})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{className:"stat-label",children:"Productivity"}),(0,t.jsxs)("span",{className:"stat-value",children:[o.productivityScore,"%"]})]})]})]})})]})}),(0,t.jsx)("div",{className:"col-lg-4",children:(0,t.jsxs)("div",{className:"dashboard-card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("h5",{children:[(0,t.jsx)("i",{className:"fas fa-bolt me-2"}),"Quick Actions"]})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"d-grid gap-3",children:[(0,t.jsxs)(i(),{href:"/tasks",className:"btn btn-primary",children:[(0,t.jsx)("i",{className:"fas fa-plus me-2"}),"Create New Task"]}),(0,t.jsxs)(i(),{href:"/tasks?filter=in_progress",className:"btn btn-outline-primary",children:[(0,t.jsx)("i",{className:"fas fa-play-circle me-2"}),"Continue Working"]}),(0,t.jsxs)("button",{className:"btn btn-outline-secondary",onClick:u,children:[(0,t.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh Data"]})]})})]})})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"dashboard-card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsxs)("h5",{children:[(0,t.jsx)("i",{className:"fas fa-clock me-2"}),"Recent Tasks"]}),(0,t.jsx)(i(),{href:"/tasks",className:"btn btn-sm btn-outline-primary",children:"View All"})]}),(0,t.jsx)("div",{className:"card-body p-0",children:m?(0,t.jsx)("div",{className:"text-center p-4",children:(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===a.length?(0,t.jsxs)("div",{className:"text-center p-4",children:[(0,t.jsx)("i",{className:"fas fa-tasks fa-2x text-muted mb-3"}),(0,t.jsx)("p",{className:"text-muted",children:"No recent tasks"}),(0,t.jsx)(i(),{href:"/tasks",className:"btn btn-sm btn-primary",children:"Create Your First Task"})]}):(0,t.jsx)("div",{className:"recent-tasks-list",children:a.map(s=>{let e=y(s.priority);return(0,t.jsxs)("div",{className:"recent-task-item",children:[(0,t.jsxs)("div",{className:"task-info",children:[(0,t.jsx)("h6",{className:"task-title",children:s.title}),(0,t.jsxs)("div",{className:"task-meta",children:[(0,t.jsx)("span",{className:"priority-badge",style:{background:e.bg,color:e.color,padding:"2px 8px",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"600"},children:e.text}),(0,t.jsxs)("span",{className:"task-status",children:[(0,t.jsx)("i",{className:"fas fa-".concat("completed"===s.status?"check-circle text-success":"in_progress"===s.status?"clock text-warning":"circle text-secondary"," me-1")}),s.status.replace("_"," ")]})]})]}),"completed"!==s.status&&(0,t.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>b(s.id),title:"Mark as completed",children:(0,t.jsx)("i",{className:"fas fa-check"})})]},s.id)})})})]})}),(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"dashboard-card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("h5",{children:[(0,t.jsx)("i",{className:"fas fa-calendar-alt me-2"}),"Upcoming Deadlines"]})}),(0,t.jsx)("div",{className:"card-body p-0",children:0===j.length?(0,t.jsxs)("div",{className:"text-center p-4",children:[(0,t.jsx)("i",{className:"fas fa-calendar fa-2x text-muted mb-3"}),(0,t.jsx)("p",{className:"text-muted",children:"No upcoming deadlines"})]}):(0,t.jsx)("div",{className:"deadlines-list",children:j.map(s=>{let e=Math.ceil((new Date(s.due_date)-new Date)/864e5),a=e<=1;return(0,t.jsxs)("div",{className:"deadline-item ".concat(a?"urgent":""),children:[(0,t.jsxs)("div",{className:"deadline-info",children:[(0,t.jsx)("h6",{className:"deadline-title",children:s.title}),(0,t.jsx)("div",{className:"deadline-meta",children:(0,t.jsxs)("span",{className:"due-date ".concat(a?"text-danger":e<=3?"text-warning":"text-muted"),children:[(0,t.jsx)("i",{className:"fas fa-clock me-1"}),a?"Due today!":"Due in ".concat(e," days")]})})]}),(0,t.jsx)("div",{className:"deadline-actions",children:(0,t.jsx)(i(),{href:"/tasks",className:"btn btn-sm btn-outline-primary",children:"View"})})]},s.id)})})})]})})]}),(0,t.jsx)("div",{className:"row mt-4",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"dashboard-card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("h5",{children:[(0,t.jsx)("i",{className:"fas fa-lightbulb me-2"}),"Productivity Tip"]})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)("div",{className:"productivity-tip",children:(0,t.jsxs)("p",{className:"mb-0",children:[(0,t.jsx)("strong",{children:"Tip of the day:"})," Break large tasks into smaller, manageable chunks. Completing these smaller tasks will give you a sense of progress and keep you motivated!"]})})})]})})})]})]}),(0,t.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"})]})}}},function(s){s.O(0,[996,888,774,179],function(){return s(s.s=1075)}),_N_E=s.O()}]);